# 買い物リストアプリ - 要件定義書

## 1. プロジェクト概要

### 1.1 システム名称
**どうぶつの森風買い物管理アプリ**

### 1.2 システム概要
家族やグループで共有できる買い物リスト管理システム。どうぶつの森風のゲーミフィケーション要素を取り入れ、グループでキャラクターを育成しながら楽しく計画的な買い物を促進する。

### 1.3 開発背景・目的
- **問題**: 既存の買い物リストアプリの使いづらさ（削除の非効率性、購入済みアイテムの視認性、重複登録等）
- **目的**: 楽しく継続的に使える買い物リスト体験の提供
- **特徴**: 過度な購入を促進しない健全なゲーミフィケーション

## 2. ターゲット・ステークホルダー

### 2.1 主要ターゲット
- **家族世帯**: 夫婦・親子での買い物リスト共有
- **ルームシェア**: 同居人同士での生活用品管理
- **カップル**: 二人暮らしでの買い物計画

### 2.2 ユーザーペルソナ
- **年齢**: 20代〜40代
- **特徴**: スマートフォンを日常的に使用
- **ニーズ**: 家族との情報共有、楽しい買い物体験、計画的な家計管理

## 3. システム要件

### 3.1 機能要件

#### 3.1.1 ユーザー管理機能
- **アカウント作成・認証**: メール認証によるユーザー登録
- **プロフィール管理**: 表示名、アバター絵文字の設定
- **パスワード管理**: パスワード変更・リセット機能

#### 3.1.2 グループ管理機能
- **グループ作成**: 家族・同居人グループの作成
- **メンバー招待**: 招待コードによるメンバー追加
- **権限管理**: オーナー、管理者、メンバーの役割分担
- **メンバー管理**: 参加・脱退・除名機能

#### 3.1.3 買い物リスト機能

##### 基本機能
- **アイテム追加**: 商品名、カテゴリ、メモの入力
- **アイテム編集**: 名前、カテゴリ、優先度の変更
- **アイテム削除**: 論理削除による削除機能
- **完了管理**: 購入完了・未完了の切り替え
- **カテゴリ分類**: 野菜、肉魚、乳製品、調味料等での分類

##### 拡張機能
- **購入予定日設定**: 今日買う、明日買う、日付指定
- **優先度設定**: ドラッグアンドドロップによる並び順制御
- **一括操作**: 複数アイテムの一括削除・完了
- **履歴管理**: 最近のアイテム追加時の入力を8件から10件程度表示

##### UI/UX改善機能
- **今日のミッション**: 今日買うアイテムの専用表示
- **購入済み表示**: 完了アイテムの常時表示・一括削除
- **カテゴリ折りたたみ**: アコーディオン形式での表示制御
- **検索・フィルタ**: アイテム名検索、カテゴリ絞り込み

#### 3.1.4 キャラクター育成機能

##### キャラクター管理
- **キャラクター作成**: グループ単位でのキャラクター設定
- **キャラクタータイプ**: たぬき、ねこ、くま等の種類選択(将来的に、ユーザのアップロードした写真、キャラ名などで、唯一無二のキャラクターも追加)
- **成長要素**: レベル、経験値、幸福度の管理
- **複数キャラクター**: 将来的な複数キャラクター対応

##### 経験値システム
- **健全な獲得方法**:
  - アイテム追加: +5 exp
  - アイテム完了: +10 exp
  - 画面にでてきたEXPポーションをタップ: +15 exp
  - グループ招待: +30 exp
- **レベルアップ**: 100経験値ごとのレベルアップ
- **実績システム**: 各種達成条件での経験値ボーナス

#### 3.1.5 実績・統計機能
- **グループ実績**: 初回アイテム追加、完了数到達、レベル到達等
- **日次統計**: アイテム追加数、完了数、経験値獲得数
- **進捗表示**: レベル進捗バー、実績達成状況

### 3.2 非機能要件

#### 3.2.1 パフォーマンス要件
- **応答時間**: ページ読み込み2秒以内

#### 3.2.2 セキュリティ要件
- **認証**: JWT認証による安全なセッション管理
- **認可**: グループ単位でのデータアクセス制御
- **データ保護**: 個人情報の適切な暗号化・保護

#### 3.2.3 可用性要件
- **稼働率**: 99.9%の可用性目標
- **バックアップ**: 日次自動バックアップ
- **障害復旧**: 24時間以内の復旧目標

#### 3.2.4 拡張性要件
- **ユーザー増加**: 10,000ユーザーまでの段階的拡張
- **機能追加**: モジュール式設計による機能追加対応
- **データ増加**: 水平スケーリングによる容量拡張

## 4. 技術要件

### 4.1 対応プラットフォーム
- **モバイル**: React Native対応によるネイティブアプリ体験

### 4.2 技術スタック（推奨）
- **フロントエンド**: React Native, expo
- **バックエンド**: TypeScript(drizzle)
- **データベース**: expo sqlite
- **認証**: JWT(better-auth)
- **デプロイ**: Expo

## 5. UI/UXデザイン要件

### 5.1 デザインコンセプト
- **テーマ**: どうぶつの森風の温かみのあるデザイン
- **カラー**: オレンジベースの暖色系統
- **アニメーション**: ゆっくりとした可愛い動き（ふわふわ浮遊等）

### 5.2 レスポンシブデザイン
- **モバイルファースト**: スマートフォンでの利用を最優先
- **タブレット対応**: 中型画面での最適化表示
- **デスクトップ対応**: 大画面での快適な操作性

### 5.3 アクセシビリティ
- **WCAG 2.1 AA準拠**: 基本的なアクセシビリティ対応
- **色彩対応**: 色覚多様性への配慮

### 5.4 アニメーション仕様
- **控えめな演出**: スライドイン/アウトは使用しない
- **ふわふわ動作**: float、wiggle、pulse等の優しいアニメーション
- **背景演出**: キャラクターの画面横移動など

## 6. 運用要件

### 6.1 サポート
- **ヘルプドキュメント**: 基本的な使い方ガイド
- **FAQ**: よくある質問への回答
- **問い合わせ対応**: メールでの問い合わせ受付

## 7. 制約条件・前提条件

### 7.1 技術的制約
- **React状態管理**: useState, zustand, contextでの状態管理
- **外部ライブラリ**: 必要に応じて追加

### 7.2 設計方針
- **過度な購入促進回避**: 購入以外での経験値獲得を重視
- **ログイン日数カウント除外**: 連続ログイン機能は実装しない
- **グループ中心設計**: 個人ではなくグループでのキャラクター育成

### 7.3 将来拡張予定
- **通知システム**: プッシュ通知・リマインダー
- **価格管理**: 商品価格の管理・比較機能

## 8. 成功指標（KPI）

### 8.1 利用指標
- **DAU（日次アクティブユーザー）**: 月間成長率20%
- **リテンション率**: 1週間後60%、1ヶ月後30%
- **グループ参加率**: ユーザーの80%がグループに参加

### 8.2 機能指標
- **アイテム完了率**: 追加されたアイテムの70%が完了
- **重複登録率**: 5%以下に抑制
- **一括操作使用率**: ユーザーの50%が利用

### 8.3 満足度指標
- **アプリ評価**: ストア評価4.0以上
- **NPS（Net Promoter Score）**: 50以上
- **機能満足度**: 各主要機能で80%以上の満足度

## 9. リリース計画

### 9.1 フェーズ1 MVP（Minimum Viable Product）
- **基本機能**: ユーザー管理、グループ管理、買い物リスト
- **キャラクター**: 基本的なレベル・経験値システム
- **期間**: 開発開始から3ヶ月

### 9.2 フェーズ2
- **拡張機能**: 実績システム、統計機能
- **UI改善**: アニメーション強化
- **期間**: MVP後2ヶ月

### 9.3 フェーズ3
- **連携機能**: 通知システム
- **複数キャラクター**: キャラクター追加・切り替え機能
- **期間**: フェーズ2後3ヶ月
